<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm border-bottom sticky-top">
  <div class="container-fluid">
    <!-- Brand/Logo -->
    <div class="navbar-brand d-flex align-items-center">
      <img src="asfa-logo.png" alt="Logo ASFA" class="me-2" style="height: 40px; width: 40px; border-radius: 8px;">
      <div class="d-flex flex-column">
        <span class="fw-bold text-primary fs-5">ASFA</span>
        <small class="text-muted d-none d-md-block" style="font-size: 0.7rem;">Associa√ß√£o Cat√≥lica Sagrada Fam√≠lia</small>
      </div>
    </div>

         <!-- Mobile Toggle Button -->
     <button class="navbar-toggler" type="button" (click)="toggleMenu()" 
             aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
       <span class="navbar-toggler-icon"></span>
     </button>

         <!-- Navigation Content -->
     <div class="navbar-collapse" [class.show]="isMenuOpen" id="navbarContent">
      <!-- Navigation Links -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center gap-2" 
             [class.active]="isActiveRoute('/pessoa-idosa')"
             (click)="navigate('/pessoa-idosa')"
             style="cursor: pointer;">
            <span>üë•</span>
            Pessoas Idosas
          </a>
        </li>
        <li class="nav-item" *ngIf="(userWithRole$ | async)?.role === 'admin'">
          <a class="nav-link d-flex align-items-center gap-2" 
             [class.active]="isActiveRoute('/usuario')"
             (click)="navigate('/usuario')"
             style="cursor: pointer;">
            <span>üë§</span>
            Usu√°rios
          </a>
        </li>
      </ul>

      <!-- User Section -->
      <div class="navbar-nav ms-auto" *ngIf="user$ | async as user">
                 <div class="nav-item dropdown">
           <button class="nav-link dropdown-toggle d-flex align-items-center gap-2" 
                   type="button" 
                   data-bs-toggle="dropdown" 
                   aria-expanded="false">
             <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center" 
                  style="width: 35px; height: 35px; font-size: 0.9rem; font-weight: 600;">
               {{ getUserInitials(user.email) }}
             </div>
             <div class="d-none d-lg-flex flex-column">
               <small class="fw-semibold">{{ getUserDisplayName(user.email) }}</small>
               <small class="text-muted" style="font-size: 0.75rem;">{{ user.email || 'Email n√£o dispon√≠vel' }}</small>
             </div>
           </button>
           <ul class="dropdown-menu dropdown-menu-end">
             <li class="dropdown-item-text">
               <div class="d-flex flex-column">
                 <span class="fw-semibold">{{ getUserDisplayName(user.email) }}</span>
                 <small class="text-muted">{{ user.email || 'Email n√£o dispon√≠vel' }}</small>
               </div>
             </li>
             <li><hr class="dropdown-divider"></li>
             <li>
               <button type="button" class="dropdown-item text-danger d-flex align-items-center gap-2" 
                       (click)="logout()">
                 <i class="bi bi-box-arrow-right me-2"></i>
                 Sair do sistema
               </button>
             </li>
           </ul>
         </div>
      </div>
    </div>
  </div>
</nav>