<div *ngIf="form" [formGroup]="form" class="container-fluid p-0">
  <div class="row g-3">
    <div class="col-12 col-lg-6">
      <label for="cep" class="form-label fw-semibold text-dark">
        CEP <span class="text-danger">*</span>
      </label>
      <div class="input-group">
        <input
          id="cep"
          class="form-control"
          formControlName="cep"
          maxlength="9"
          placeholder="00000-000"
          appMask="cep"
          (input)="borrarCep()"
          [class.is-invalid]="cepError"
        />
        <button
          type="button"
          class="btn btn-primary d-flex align-items-center gap-1"
          (click)="buscarCep()"
          [disabled]="cepLoading || form.get('cep')?.invalid"
        >
          <span *ngIf="!cepLoading" class="d-flex align-items-center gap-1">
            <i class="bi bi-search"></i>
            Buscar
          </span>
          <span *ngIf="cepLoading" class="d-flex align-items-center gap-2">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Buscando...
          </span>
        </button>
      </div>
      <div *ngIf="cepError" class="invalid-feedback d-block d-flex align-items-center gap-1 mt-1">
        <i class="bi bi-exclamation-triangle-fill"></i>
        {{ cepError }}
      </div>
    </div>

    <div class="col-12 col-lg-6">
      <label for="moradia" class="form-label fw-semibold text-dark">
        Tipo de Moradia <span class="text-danger">*</span>
      </label>
      <select id="moradia" class="form-select" formControlName="moradia">
        <option value="">Selecione o tipo</option>
        <option *ngFor="let moradia of moradiasOptions" [value]="moradia">{{ moradia }}</option>
      </select>
    </div>

    <div class="col-12 col-lg-8">
        <label for="logradouro" class="form-label fw-semibold text-dark">Logradouro <span class="text-danger">*</span></label>
        <input type="text" id="logradouro" class="form-control" formControlName="logradouro" placeholder="Rua, Avenida, etc.">
    </div>

    <div class="col-12 col-lg-4">
        <label for="numero" class="form-label fw-semibold text-dark">NÃºmero <span class="text-danger">*</span></label>
        <input type="text" id="numero" class="form-control" formControlName="numero" placeholder="Ex: 123 ou S/N">
    </div>

    <div class="col-12 col-lg-6">
        <label for="bairro" class="form-label fw-semibold text-dark">Bairro <span class="text-danger">*</span></label>
        <input type="text" id="bairro" class="form-control" formControlName="bairro" placeholder="Digite o bairro">
    </div>

    <div class="col-12 col-lg-4">
        <label for="cidade" class="form-label fw-semibold text-dark">Cidade <span class="text-danger">*</span></label>
        <input type="text" id="cidade" class="form-control" formControlName="cidade" placeholder="Digite a cidade">
    </div>

    <div class="col-12 col-lg-2">
        <label for="estado" class="form-label fw-semibold text-dark">Estado <span class="text-danger">*</span></label>
        <input type="text" id="estado" class="form-control" formControlName="estado" placeholder="UF">
    </div>
  </div>
</div>